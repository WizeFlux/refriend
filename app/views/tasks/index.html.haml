%h1 Tasks
= link_to 'New task', new_task_path
= form_for :query, method: :get do |form|
  = form.text_field :text
  #city-selector{'ng-controller' => 'CitySelector'}
    %input{'type' => 'search', 'ng-model' => 'search', 'ng-show' => 'displaySearch()'}
    %ul
      %li{'ng-repeat' => 'city in cities()', 'ng-hide' => 'hide(city)'}
        %input{'type' => 'checkbox', 'ng-model' => 'city.selected', 'id' => '{{city.cid}}', 'name' => 'cid', 'value' => '{{city.cid}}'}
        %label{'for' => '{{city.cid}}'}
          {{city.title}}
          {{city.region}}
          {{city.area}}

  = form.radio_button :scope, 'friends'
  = form.label :scope_friends, 'Friends tasks'
  = form.radio_button :scope, 'own'
  = form.label :scope_own, 'Own tasks'
  = form.radio_button :scope, 'all', checked: true
  = form.label :scope_all, 'All tasks'
  
  = form.submit 'Search'
  
    
%hr
- @tasks.each do |task|
  %section
    %h3= link_to task.title, task_path(task)
    %p= task.description
    %p= task.tags
    %hr
